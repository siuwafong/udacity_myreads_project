{"version":3,"sources":["BooksAPI.js","Book.js","Shelf.js","Search.js","Home.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","concat","then","res","json","data","books","Book","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","bind","assertThisInitialized","evt","changeList","target","dataset","id","value","react_default","a","createElement","className","style","width","height","backgroundImage","imgSrc","data-id","onChange","shelf","disabled","title","author","Component","Shelf","list","map","book","src_Book","authors","img","imageLinks","thumbnail","key","Search","react_router_dom","exact","to","onClick","clearSearch","type","name","placeholder","event","errorMessage","searchEntry","Shelf_Shelf","searchResults","Home","currentlyReadingList","wantToReadList","readList","BooksApp","state","allList","search","setCurrentlyReadingList","setWantToReadList","setReadList","setAllList","_this2","BooksAPI","setState","filter","_this3","_this4","_this5","query","_this6","method","objectSpread","Content-Type","body","JSON","stringify","toConsumableArray","listedBook","includes","catch","err","timeoutId","_this7","clearTimeout","setTimeout","bookId","_this8","_this9","react_router","path","render","Search_Search","Home_Home","React","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ace2b6e2.chunk.js","sourcesContent":["\r\nconst api = \"https://reactnd-books-api.udacity.com\"\r\n\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token\r\nif (!token)\r\n  token = localStorage.token = Math.random().toString(36).substr(-8)\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Authorization': token\r\n}\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book)\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books)\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json())\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  }).then(res => res.json())\r\n    .then(data => data.books)\r\n","import React, { Component } from 'react';\r\n\r\nclass Book extends Component {\r\n \tconstructor(props) {\r\n      super(props)\r\n      this.handleChange = this.handleChange.bind(this)\r\n    }\r\n  \r\n  handleChange(evt) {\r\n    this.props.changeList(evt.target.dataset.id, evt.target.value)\r\n  }\r\n\r\n  render() {\r\n   \treturn (   \r\n      <div className=\"book\">\r\n        <div className=\"book-top\">\r\n        <div className=\"book-cover\" style={{ width: 128, height: 193, \r\n          backgroundImage: `url(${this.props.imgSrc})`}}></div>\r\n        <div className=\"book-shelf-changer\">\r\n          <select data-id={this.props.id} onChange={this.handleChange}  value={this.props.shelf} className=\"shelfSelect\">\r\n            <option value=\"move\" disabled>Move to...</option>\r\n            <option value=\"currentlyReading\">Currently Reading</option>\r\n            <option value=\"wantToRead\">Want to Read</option>\r\n            <option value=\"read\">Read</option>\r\n            <option value=\"none\">None</option>\r\n          </select>\r\n        </div>\r\n        </div>\r\n        <div className=\"book-title\">{this.props.title}</div>\r\n        <div className=\"book-authors\">{this.props.author}</div>\r\n      </div>      \t\r\n    )\r\n  }\r\n}\r\n\r\nexport default Book;","import React, { Component } from 'react'\r\nimport Book from './Book'\r\n\r\nexport default class Shelf extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"bookshelf\">\r\n            <h2 className=\"bookshelf-title\">{this.props.title}</h2>\r\n            <div className=\"bookshelf-books\">\r\n                <ol className=\"books-grid\">\r\n                {this.props.list.map(book => (\r\n                    <Book shelf={book.shelf} title={book.title} author={book.authors ? book.authors[0] : \"N/A\"} imgSrc={this.props.title === \"Search Results\" ? book.img : book.imageLinks.thumbnail} key={book.id} id={book.id} changeList={this.props.changeList}/>\r\n                ))}\r\n                </ol>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport Shelf  from './Shelf'\r\n\r\nexport default class Search extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"search-books\">\r\n            <div className=\"search-books-bar\">\r\n              <Link \r\n                className=\"close-search\"\r\n                exact\r\n                to='/'\r\n                onClick={this.props.clearSearch}>\r\n                  Close\r\n                </Link>\r\n                \r\n              <div className=\"search-books-input-wrapper\">               \r\n                <input type=\"text\" name=\"searchBook\" placeholder=\"Search by title or author\"  onChange={(event) => this.props.handleChange(event.target.value)} />\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"search-books-results\">\r\n              {this.props.errorMessage === false && this.props.searchEntry !== \"\" && <Shelf list={this.props.searchResults} changeList={this.props.changeList} title=\"Search Results\"  />}\r\n              {this.props.errorMessage && this.props.searchEntry !== \"\" ? <h1>No results for \"{this.props.searchEntry}\"</h1> : \"\"}\r\n            </div>\r\n\r\n          </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Shelf from './Shelf'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Home extends Component {\r\n    render() {\r\n        return (\r\n          <div className=\"list-books\">\r\n          \r\n          <div className=\"list-books-title\">\r\n            <h1>MyReads</h1>\r\n          </div>\r\n          \r\n          <div className=\"list-books-content\">\r\n            <div>\r\n              {/*  filtered 'currentlyReading' books */}\r\n              <Shelf list={this.props.currentlyReadingList} changeList={this.props.changeList} title=\"Currently Reading\"/>\r\n              {/*  filtered 'wantToRead' books */}\r\n              <Shelf list={this.props.wantToReadList} changeList={this.props.changeList} title=\"Want to Read\"/>\r\n              {/*  filtered 'Read' books */}\r\n              <Shelf list={this.props.readList} changeList={this.props.changeList} title=\"Read\"/>\r\n            </div>\r\n          </div>\r\n        \r\n          <div className=\"open-search\">\r\n            <Link exact to=\"/search\" >\r\n                <button>Add a book</button> \r\n            </Link>\r\n          </div>\r\n\r\n        </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport * as BooksAPI from './BooksAPI'\r\nimport './App.css'\r\nimport Search from './Search'\r\nimport Home from './Home'\r\nimport { Route } from 'react-router-dom';\r\n\r\nclass BooksApp extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n    searchEntry: \"\",\r\n    searchResults: [],\r\n    errorMessage: false,\r\n    currentlyReadingList: [],\r\n    wantToReadList: [],\r\n    readList: [],\r\n    allList: []\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.search = this.search.bind(this);\r\n    this.clearSearch = this.clearSearch.bind(this);\r\n    this.changeList = this.changeList.bind(this);\r\n    this.setCurrentlyReadingList = this.setCurrentlyReadingList.bind(this);\r\n    this.setWantToReadList = this.setWantToReadList.bind(this);\r\n    this.setReadList = this.setReadList.bind(this);\r\n    this.setAllList = this.setAllList.bind(this);\r\n  }\r\n\r\nsetCurrentlyReadingList() {\r\n  BooksAPI.getAll().then(res => \r\n    this.setState({ currentlyReadingList: res.filter(book => book.shelf === 'currentlyReading')})\r\n    )\r\n}\r\n\r\nsetWantToReadList() {\r\n  BooksAPI.getAll().then(res => \r\n    this.setState({ wantToReadList: res.filter(book => book.shelf === 'wantToRead')})\r\n    )\r\n}\r\n\r\nsetReadList() {\r\n  BooksAPI.getAll().then(res => \r\n    this.setState({ readList: res.filter(book => book.shelf === 'read')})\r\n    )\r\n}\r\n\r\nsetAllList() {\r\n  BooksAPI.getAll().then(res => \r\n    this.setState({ allList: res.filter(book => book.shelf === 'read' || book.shelf === 'wantToRead' || book.shelf === 'currentlyReading')})\r\n    )\r\n}\r\n\r\ncomponentDidMount() {\r\n  this.setCurrentlyReadingList();\r\n  this.setWantToReadList();\r\n  this.setReadList();\r\n  this.setAllList();\r\n}\r\n\r\nsearch(searchEntry) {\r\n  BooksAPI.search(searchEntry)\r\n    .then(res => {\r\n    this.setState(() => ({searchResults: []}))\r\n    res.map(book => (\r\n      this.setState({searchResults: [...this.state.searchResults, {\r\n          id: book.id, \r\n          shelf: this.state.allList.map(listedBook => listedBook.id).includes(book.id) ? this.state.allList.filter(listedBook => listedBook.id === book.id)[0].shelf : 'none', \r\n          title: book.title, \r\n          authors: book.authors ? book.authors : \"N/A\", \r\n          img: book.imageLinks ? book.imageLinks.thumbnail: \"N/A\"}\r\n    ], errorMessage: false}))\r\n      )\r\n    }\r\n    )\r\n    .catch(err => {\r\n      this.setState(() => ({errorMessage: true}))\r\n  })\r\n}\r\n\r\nclearSearch() {\r\n  this.setState(() => ({ searchEntry: '', searchResults: []}))\r\n}\r\n\r\nhandleChange(evt) {\r\n    let timeoutId;\r\n  \tthis.setState(() => ({\r\n      searchEntry: evt\r\n    }))  \r\n      if (timeoutId) {\r\n        clearTimeout(timeoutId)\r\n      }\r\n      timeoutId = setTimeout(() => this.search(this.state.searchEntry), 500)\r\n    }\r\n\r\nchangeList(bookId, shelf) {\r\n  BooksAPI.get(bookId)\r\n    .then((book) => BooksAPI.update(book, shelf)\r\n    .then(() =>   {\r\n      this.setCurrentlyReadingList();\r\n      this.setWantToReadList();\r\n      this.setReadList();\r\n      } \r\n    ))\r\n  }\r\n\r\nrender() {\r\n  return (\r\n    <div className=\"app\">\r\n      \r\n      <Route exact path='/search' render={() => (\r\n        <Search \r\n            clearSearch = {this.clearSearch}\r\n            searchResults = {this.state.searchResults}\r\n            handleChange = {this.handleChange}\r\n            changeList = {this.changeList}\r\n            searchEntry = {this.state.searchEntry}\r\n            errorMessage = {this.state.errorMessage}\r\n          />\r\n        )}/>\r\n      \r\n      <Route exact path='/'render={() => (\r\n        <Home \r\n          changeList = {this.changeList}\r\n          currentlyReadingList = {this.state.currentlyReadingList}\r\n          wantToReadList = {this.state.wantToReadList}\r\n          readList = {this.state.readList}\r\n          />\r\n\r\n        )}/>        \r\n    </div>\r\n    )  \r\n  }\r\n}\r\n\r\nexport default BooksApp","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>, \r\n    document.getElementById('root'))\r\n"],"sourceRoot":""}